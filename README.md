<!--
This README was generated by Claude (Anthropic) and slightly edited by me.
I specifically asked Claude to make it with this emoji-heavy vibe
because that's how I roll (around) ğŸ©·âœ¨ğŸ˜­
-->

# Stow: GNU Stow-like Symlink Farm Manager

> *A performance-focused, feature-rich alternative to GNU Stow written in pure Bash* ğŸ« 

## ğŸŒ¸ What is this?

This is a blazingly fast symlink farm manager that replicates and extends GNU Stow functionality. Perfect for managing dotfiles, configurations, and any directory structure you want to symlink efficiently across your system.

## âœ¨ Features

- ğŸ”¥ **Lightning fast** - Pure Bash implementation with optimized algorithms
- ğŸ©µ **GNU Stow like** - Drop-in replacement with extended functionality
- ğŸ’œ **Advanced ignore patterns** - Regex-based filtering with dynamic ignore scripts
- ğŸ©· **Dotfile transformation** - Intelligent `dot-` prefix handling
- â„ï¸ **Simulation mode** - Preview changes before applying them
- ğŸŒ¸ **Force mode** - Handle conflicts gracefully when needed
- ğŸ’¢ **Comprehensive logging** - 6-level logging system with colored output
- ğŸ¥° **Clean broken links** - Automatically removes orphaned symlinks (on unstow)

## ğŸš€ Quick Start

```bash
# Stow current folder to parent (default paths)
./stow -S

# Delete/unstow packages
./stow -D helix

# Restow (delete then stow)
./stow -R -t /home/ari dotf

# Custom stow and target directories
./stow -d /usr/local/stow -t /usr/local emacs
```

## ğŸ¯ Command Reference

### Basic Actions
- `-S, --stow` - Stow packages
- `-D, --delete` - Delete/unstow packages
- `-R, --restow` - Restow (delete then stow)

### Directory Control
- `-t, --target <dir>` - Set target directory (default: parent of stow dir)
- `-d, --dir <dir>` - Set stow directory (default: current directory)

### Advanced Options
- `-v, --verbose [0-5]` - Set verbosity level (stackable: `-vv`, `-vvv`, overflows starting on 4)
- `-n, --simulate` - Preview mode - show what would be done
- `-F, --force` - Force operations, remove conflicts
- `--dotfiles` - Enable dotfile transformation (`dot-vimrc` â†’ `.vimrc`)

### Filtering & Ignoring
- `--ignore <regex>` - Ignore files matching regex pattern
- `-f, --filter <script>` - Run bash script and use output as additional ignore patterns

## ğŸ¨ Advanced Usage

### Dotfile Management ğŸ’™
```bash
# Enable dotfile transformation
./stow --dotfiles dotfiles

# Files named "dot-bashrc" become ".bashrc" in target
# Perfect for version control where you can't have dot-prefixed files
```

### Ignore Patterns ğŸ¥¹
Create a `.stow-ignore` file in your stow directory:
```
# Ignore all .git directories
\.git$

# Ignore backup files
.*~$

# Ignore README files
README.*$
```

### Dynamic Filtering ğŸ”¥
```bash
# Use a bash script to generate ignore patterns (-f <script>)
./stow -Rf ./generate-ignores.sh config
```

The script output will be treated as additional .stow-ignore regex, empty lines or comments aren't filtered as in .stow-ignore

```bash
# do not include fish config if not installed
command -v fish > /dev/null || printf '^\.config/fish.*\n'
```

### Simulation Mode ğŸ”

```bash
# See exactly what would happen without making changes
./stow -Sn -v config nvim

# Perfect for testing complex operations
./stow -Rn --dotfiles --force dotfiles
```

## ğŸ› ï¸ Environment Variables

- `LOGGER_LEVEL` - Default logging level (0-5)
- Set via `-v` flag or export in shell

## ğŸ“ Directory Structure Example

```
dotfiles/                   # Stow directory
â”œâ”€â”€ .stow-ignore            # Ignore patterns
â”œâ”€â”€ nvim/                   # Package
â”‚   â””â”€â”€ .config/
â”‚       â””â”€â”€ nvim/
â”‚           â”œâ”€â”€ init.lua
â”‚           â””â”€â”€ lua/
â””â”€â”€ shell/                  # Another package
    â”œâ”€â”€ dot-bashrc          # Becomes ~/.bashrc with --dotfiles
    â””â”€â”€ dot-zshrc           # Becomes ~/.zshrc with --dotfiles
```

After `./stow --dotfiles nvim shell`:
```
~/
â”œâ”€â”€ .bashrc -> dotfiles/shell/dot-bashrc
â”œâ”€â”€ .zshrc -> dotfiles/shell/dot-zshrc
â””â”€â”€ .config/
    â””â”€â”€ nvim/
        â”œâ”€â”€ init.lua -> dotfiles/nvim/.config/nvim/init.lua
        â””â”€â”€ lua/ -> dotfiles/nvim/.config/nvim/lua/
```

## ğŸµ Logging Levels

| Level | Name  | Color | Description |
|-------|-------|-------|-------------|
| 0 | OFF | - | No output |
| 1 | CRIT | Red FG | Critical errors |
| 2 | ERROR | Red | Errors |
| 3 | WARN | Yellow | Warnings |
| 4 | INFO | Blue | General info (default) |
| 5 | DEBUG | Green | Detailed operations |

## ğŸŒŸ Performance Notes

- **Zero external dependencies** - Pure Bash, runs everywhere
- **Optimized file operations** - Minimal syscalls and efficient tree traversal
- **Memory efficient** - Streams file operations, handles large directory trees
- **Assembly-level attention to detail** - Every operation is carefully crafted for speed

## ğŸ’œ Why This Implementation?

I wanted to use GNU Stow for managing my dotfiles, so I installed it via `pacman`. I got **Perl**, a bunch of dependencies, and **stow**, and... it didn't even work! There was a error around line 253 (some operator precedence issue, or syntax, I don't remember correctly), and I had to `sudo vim /usr/bin/stow` to manually add parentheses to fix it ğŸ« 

That felt wrong. Really wrong.

So I tried making a custom install script to avoid the mess, but that just created a different kind of mess. Eventually I thought: "I can write stow in pure Bash and just have it working!" ğŸ¤ª

This isn't just another stow clone (it is). Every function is optimized, every operation is purposeful. The code itself is structured as clean, maintainable that happens to be incredibly fast.

**Zero dependencies. Zero Perl. Zero broken syntax. Just pure, optimized Bash that works.** âœ¨

Perfect for Arch Linux users, terminal lovers, and anyone who appreciates when low-level optimization meets elegant functionality ğŸ¤ŸğŸ»

## ğŸ¥º Issues & Support

If you encounter any bugs or have feature requests, feel free to open an issue! This helps keep the project clean and focused ğŸ’œ

## ğŸ“œ License

MIT License - free and open source âœ¨

---

*Made with ğŸ©· for the terminal-loving, performance-obsessed, dotfile-managing community*

**"Code must be ~~art~~, functional, and the most polished experience"** âœ¨
